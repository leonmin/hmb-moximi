(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-SettingPage-AddScene-AddScene"],{"0f28":function(t,i,e){"use strict";e.r(i);var a=e("a0f0"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"41c5":function(t,i,e){var a=e("bf78");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("7b5023ba",a,!0,{sourceMap:!1,shadowMode:!1})},"52fe":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"editOpen"},[e("v-uni-view",{staticClass:"editOpenContain shadowE7"},[e("v-uni-view",{staticClass:"toptitle"},[e("v-uni-text",{staticClass:"fontStyle30"},[t._v("名称")]),e("v-uni-input",{staticClass:"sceneName",attrs:{type:"text",placeholder:"输入场景名称"},model:{value:t.sceneName,callback:function(i){t.sceneName=i},expression:"sceneName"}})],1),e("v-uni-view",{staticClass:"deliverline"}),e("v-uni-view",{staticClass:"flexDisplay"},[e("v-uni-view",[e("v-uni-text",{staticClass:"fontStyle30"},[t._v("开场白")])],1),t.isleft?e("v-uni-text",{staticClass:"cuIcon-notification iconSize"}):t._e(),t.recComplete?e("v-uni-text",{staticClass:"greyTextXs",on:{click:function(i){i=t.$handleEvent(i),t.playRecord(i)}}},[t._v("试听")]):t._e()],1),e("v-uni-view",{staticClass:"openContent",class:t.isRight?"greyText":""},[t.isDisable?e("v-uni-textarea",{attrs:{maxlength:"100",bindinput:"textareaAInput",placeholder:"请输入自定义开场白"},model:{value:t.openInput,callback:function(i){t.openInput=i},expression:"openInput"}}):e("v-uni-textarea",{attrs:{maxlength:"100",bindinput:"textareaAInput",disabled:"",placeholder:'Tips:请在录音结尾处加上"有神额是你可以先和我的「小秘」说"'}})],1),e("v-uni-view",{staticClass:"openBtn"},[e("v-uni-view",[e("v-uni-view",{staticClass:"btnLeft",class:t.isleft?"blueBg":"blueColor",on:{click:function(i){i=t.$handleEvent(i),t.xiaomishuo(i)}}},[e("v-uni-text",{staticClass:"cuIcon-writefill"}),e("v-uni-text",[t._v("小秘说")])],1),e("v-uni-view",{staticClass:"btnRight",class:t.isRight?"blueBg":"blueColor",on:{click:function(i){i=t.$handleEvent(i),t.gotoSelfRecord(i)}}},[e("v-uni-text",{staticClass:"cuIcon-voicefill"}),e("v-uni-text",[t._v("自己录")])],1)],1),t.isleft?e("v-uni-view",{staticClass:"greyText"},[e("v-uni-text",[t._v(t._s(t.openInput?t.openInput.length:0)+"/100")])],1):t._e()],1)],1),t.isleft?e("v-uni-view",{staticClass:"bottomBtn cu-bar btn-group"},[e("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(i){i=t.$handleEvent(i),t.delXiaomi(i)}}},[t._v("删除")]),e("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(i){i=t.$handleEvent(i),t.saveXiaomi(i)}}},[t._v("保存")])],1):t._e(),t.isRight?e("v-uni-view",{staticClass:"selfRec"},[e("v-uni-view",{staticClass:"recordBtn cu-bar btn-group"},[e("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(i){i=t.$handleEvent(i),t.delRec(i)}}},[t._v("删除")]),e("v-uni-button",{staticClass:"cu-btn bg-blue shadowE7 round",class:t.isSave?"saveBlue":"",on:{click:function(i){i=t.$handleEvent(i),t.confirmSave(i)}}},[t._v("保存")])],1),e("v-uni-view",{staticClass:"positionRela"},[e("v-uni-view",{staticClass:"recordView"},[t.isJishi?e("v-uni-view",{staticClass:"jishi"},[e("v-uni-text",[t._v("正在录音"+t._s(t.jishi)+"秒")])],1):t._e(),e("v-uni-view",{staticClass:"recordTip",style:t.recordTipShow},[t._v("按住我开始录音")]),e("v-uni-view",{staticClass:"container",class:t.isRec?"isRec":""},[e("v-uni-view",{staticClass:"wave ripple danger"},[e("v-uni-view",{staticClass:"circle"}),e("v-uni-view",{staticClass:"circle"}),e("v-uni-view",{staticClass:"circle"}),e("v-uni-view",{staticClass:"recordCircle",on:{touchstart:function(i){i=t.$handleEvent(i),t.startRec(i)},touchend:function(i){i=t.$handleEvent(i),t.stopRec(i)}}},[t.isPlay?e("v-uni-text",{staticClass:"cuIcon-voicefill recordIcon"}):e("v-uni-text",{staticClass:"cuIcon-playfill recordIcon"})],1)],1)],1),e("v-uni-view",{staticClass:"startRecord"},[e("v-uni-text",[t._v(t._s(t.recStatus))])],1)],1)],1)],1):t._e(),e("v-uni-view",{staticClass:"cu-modal",class:t.xiaomiSucc?"show":""},[e("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"border-radius":"20rpx"}},[e("v-uni-view",{staticClass:"padding-xl"},[e("v-uni-text",{staticClass:"eoTipText"},[t._v("确认开场白？")]),e("v-uni-view",{staticClass:"cu-bar btn-group eoTipBtn"},[e("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(i){i=t.$handleEvent(i),t.cancelXiaomi(i)}}},[t._v("取消")]),e("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(i){i=t.$handleEvent(i),t.confirmXiaomi(i)}}},[t._v("确定")])],1)],1)],1)],1),e("v-uni-view",{staticClass:"cu-modal",class:t.confirmShow?"show":""},[e("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"border-radius":"20rpx"}},[e("v-uni-view",{staticClass:"padding-xl"},[e("v-uni-text",{staticClass:"eoTipText"},[t._v("场景对话还未保存，确认要放弃吗？")]),e("v-uni-view",{staticClass:"cu-bar btn-group eoTipBtn"},[e("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(i){i=t.$handleEvent(i),t.cancelSave(i)}}},[t._v("取消")]),e("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(i){i=t.$handleEvent(i),t.confirmCancel(i)}}},[t._v("确定")])],1)],1)],1)],1),e("v-uni-view",{staticClass:"cu-modal",class:t.failShow?"show":""},[e("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"border-radius":"20rpx"}},[e("v-uni-view",{staticClass:"padding-xl"},[e("v-uni-text",{staticClass:"eoTipText"},[t._v("确认保存录音？")]),e("v-uni-view",{staticClass:"cu-bar btn-group eoTipBtn"},[e("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(i){i=t.$handleEvent(i),t.cancelSave(i)}}},[t._v("取消")]),e("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(i){i=t.$handleEvent(i),t.saveRecord(i)}}},[t._v("确定")])],1)],1)],1)],1),e("mpopup",{ref:"mpopup",attrs:{isdistance:!0}})],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"641e":function(t,i,e){"use strict";var a=e("41c5"),n=e.n(a);n.a},"6bb6":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"popup_list"},t._l(t.popup_list,function(i,a){return e("v-uni-view",{key:i.uuid,attrs:{id:i.uuid}},[e("v-uni-view",{staticClass:"mpopup",class:[i.animator,i.typeClass],style:{background:i.color,top:a*t.distance+45+"px"},on:{click:function(e){e=t.$handleEvent(e),t.close(i.uuid,a)}}},[e("v-uni-view",{staticClass:"pic"},[e("v-uni-image",{staticClass:"icon",attrs:{mode:"aspectFit",src:i.icon}})],1),e("v-uni-text",{staticClass:"text",style:{color:i.colortext}},[t._v(t._s(i.content))])],1)],1)}),1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"919a":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.mpopup[data-v-4b6b38ea]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-height:45px;width:%?550?%;-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s;position:fixed;left:0;right:0;margin:0 auto;border-radius:5px;z-index:998}.mpopup .pic[data-v-4b6b38ea]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:15px;height:15px;margin:auto 20px auto 0}.mpopup .pic .icon[data-v-4b6b38ea]{width:100%;height:auto}.mpopup .text[data-v-4b6b38ea]{margin:auto 20px auto 0;width:65%;font-size:16px}.mpopup-success[data-v-4b6b38ea]{background:#f0f9eb;border:1px solid #e1f3d8;color:#67c23a}.mpopup-err[data-v-4b6b38ea]{background:#fef0f0;border:1px solid #fde2e2;color:#f56c6c}.mpopup-warn[data-v-4b6b38ea]{background:#fdf6ec;border:1px solid #faecd8;color:#e6a23c}.mpopup-info[data-v-4b6b38ea]{background:#edf2fc;border:1px solid #ebeef5;color:#909399}.mpopup-loading[data-v-4b6b38ea]{background:#e2f5ff;border:1px solid #ceeeff;color:#5cbaff}.mpopup-loading uni-image[data-v-4b6b38ea]{-webkit-animation:rotate360-data-v-4b6b38ea 1.5s ease infinite;animation:rotate360-data-v-4b6b38ea 1.5s ease infinite}.fade_Down[data-v-4b6b38ea]{-webkit-animation:fadeInDown-data-v-4b6b38ea .6s both;animation:fadeInDown-data-v-4b6b38ea .6s both}.fade_Top[data-v-4b6b38ea]{-webkit-animation:fadeInTop-data-v-4b6b38ea .5s forwards;animation:fadeInTop-data-v-4b6b38ea .5s forwards}\n/*从上到下*/@-webkit-keyframes fadeInDown-data-v-4b6b38ea{0%{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}to{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}}@keyframes fadeInDown-data-v-4b6b38ea{0%{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}to{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}}\n/*从下到上*/@-webkit-keyframes fadeInTop-data-v-4b6b38ea{0%{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}to{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}}@keyframes fadeInTop-data-v-4b6b38ea{0%{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}to{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}}@-webkit-keyframes rotate360-data-v-4b6b38ea{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate360-data-v-4b6b38ea{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""])},"9d45":function(t,i,e){"use strict";var a=e("f2f2"),n=e.n(a);n.a},a0f0:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("6b54"),e("87b3"),e("a481");var n=a(e("795b")),o={data:function(){return{popup_list:[],distance:65}},props:{isdistance:{type:Boolean,default:!0}},methods:{init:function(t){return"success"==t.type?(t.icon="../../static/xuan-popup/success.png",t.typeClass="mpopup-success",t):"warn"==t.type?(t.icon="../../static/xuan-popup/warn.png",t.typeClass="mpopup-warn",t):"info"==t.type?(t.icon="../../static/xuan-popup/info.png",t.typeClass="mpopup-info",t):"err"==t.type?(t.icon="../../static/xuan-popup/err.png",t.typeClass="mpopup-err",t):"loading"==t.type?(t.icon="../../static/xuan-popup/loading.png",t.typeClass="mpopup-loading",t):void 0},open:function(t){this.isdistance||(this.distance=0);var i=this.guid();t.uuid=i,t.animator="fade_Down","boolean"!=typeof t.isClick&&(t.isClick=!1);var e=this.init(t);this.popup_list.push(e),e.isClick?this.$emit("uuidCallback",e.uuid):this.disappear(e.uuid,e.timeout)},disappear:function(t,i){var e=this;this.fade_out_animator(t,i).then(function(t){setTimeout(function(){for(var i=0;i<e.popup_list.length;i++)e.popup_list[i].uuid==t&&(e.popup_list.splice(i,1),e.$forceUpdate())},250)})},fade_out_animator:function(t,i){var e=this;return i&&"number"==typeof i||(i=3e3),new n.default(function(a){setTimeout(function(){for(var i=0;i<e.popup_list.length;i++)e.popup_list[i].uuid==t&&(e.popup_list[i].animator="fade_Top",a(t))},i)})},close:function(t,i){var e=this;i&&!this.popup_list[i].isClick||this.remove_element(t).then(function(i){setTimeout(function(){for(var a=0;a<e.popup_list.length;a++)e.popup_list[a].uuid==i&&(e.popup_list.splice(a,1),e.$emit("closeCallback",t),e.$forceUpdate())},250)})},remove_element:function(t){var i=this;return new n.default(function(e){for(var a=0;a<i.popup_list.length;a++)if(i.popup_list[a].uuid==t){i.popup_list[a].animator="fade_Top",e(t);break}})},update:function(t){for(var i=0;i<this.popup_list.length;i++)if(this.popup_list[i].uuid==t.uuid){this.popup_list[i].type=t.type,this.init(this.popup_list[i]),this.popup_list[i].content=t.content;break}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=16*Math.random()|0,e="x"==t?i:3&i|8;return e.toString(16)})}}};i.default=o},bf78:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'uni-page-body[data-v-731d326a]{background-color:#fff}.toptitle[data-v-731d326a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.sceneName[data-v-731d326a]{margin-left:%?20?%;height:%?60?%;padding:%?10?% %?20?%}.editOpenContain[data-v-731d326a]{background-color:#fff;padding:%?40?% %?30?%}.openContent[data-v-731d326a]{margin:%?30?% 0;height:%?150?%}.openContent>uni-textarea[data-v-731d326a]{width:100%;font-size:%?28?%;height:%?160?%}.btnLeft[data-v-731d326a],.btnRight[data-v-731d326a]{padding:%?16?% %?20?%;text-align:center;border:%?1?% solid #1c75ff;display:inline-block;width:%?200?%;font-size:%?26?%}.btnLeft[data-v-731d326a]{border-radius:%?100?% 0 0 %?100?%}.btnRight[data-v-731d326a]{border-radius:0 %?100?% %?100?% 0;color:#fff}.btnLeft>uni-text[data-v-731d326a]:first-of-type{margin-right:%?10?%}.btnRight>uni-text[data-v-731d326a]:first-of-type{margin-right:%?10?%}.blueBg[data-v-731d326a]{background:-webkit-gradient(linear,left top,right top,from(#5799ff),color-stop(10%,#5799ff),color-stop(70%,#1c75ff),to(#1c75ff));background:-o-linear-gradient(left,#5799ff 0,#5799ff 10%,#1c75ff 70%,#1c75ff 100%);background:linear-gradient(left,#5799ff,#5799ff 10%,#1c75ff 70%,#1c75ff);background:-ms-linear-gradient(left,#5799ff 0,#5799ff 10%,#1c75ff 70%,#1c75ff 100%);background:-webkit-linear-gradient(left,#5799ff,#5799ff 10%,#1c75ff 70%,#1c75ff);background:-moz-linear-gradient(left,#5799ff 0,#5799ff 10%,#1c75ff 70%,#1c75ff 100%);color:#fff}.blueColor[data-v-731d326a]{color:#1c75ff}.openBtn[data-v-731d326a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.deliverline[data-v-731d326a]{border-top:%?1?% solid #e9e9e9;margin:%?50?% 0}.bottomBtn[data-v-731d326a]{margin:auto;width:100%;bottom:%?20?%;position:absolute;padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.recordBtn>uni-button[data-v-731d326a]{padding:%?40?% 0;font-size:%?34?%}.bottomBtn>uni-button[data-v-731d326a]{padding:%?36?% %?121?%}.bottomBtn>uni-button[data-v-731d326a]:first-of-type{color:#9d9d9d}.recordBtn[data-v-731d326a]{padding:%?50?% 0;width:100%;background-color:#f1f4f6;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.recordBtn>uni-button[data-v-731d326a]:first-of-type{color:#9d9d9d}.recordView[data-v-731d326a]{background-color:#fff;padding:%?40?% %?100?%}.positionRela[data-v-731d326a]{position:relative}.jishi[data-v-731d326a]{text-align:center}.recordTip[data-v-731d326a]{background-color:#a0c5ff;color:#ebf2ff;width:%?280?%;margin:auto;font-size:%?26?%;border-radius:%?14?%;padding:%?10?% 0;text-align:center;position:relative}.recordTip[data-v-731d326a]:after{content:"";position:absolute;top:100%;left:44%;width:0;height:0;border:%?16?% solid;border-color:#a0c5ff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.recordCircle[data-v-731d326a]{background:-webkit-gradient(linear,left top,right top,from(#1c75ff),color-stop(10%,#1c75ff),color-stop(70%,#5799ff),to(#5799ff));background:-o-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);background:linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-ms-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);background:-webkit-linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-moz-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);width:%?200?%;height:%?200?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-radius:%?100?%;z-index:999}.recordIcon[data-v-731d326a]{font-size:%?100?%;color:#fff}\n/* 录音效果 */.container[data-v-731d326a]{\n\t/* position: absolute; */position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:%?250?%;height:%?250?%;margin:%?10?% auto}.isRec>.wave[data-v-731d326a]{position:relative;width:%?200?%;height:%?200?%;z-index:8}.isRec .circle[data-v-731d326a]{position:absolute;border-radius:50%;opacity:0}\n/* 波纹效果 */.isRec .circle[data-v-731d326a]{width:%?200?%;\n\t/* 减去边框的大小 */height:%?200?%\n\t/* 减去边框的大小 */}.isRec .circle[data-v-731d326a]:first-child{-webkit-animation:circle-opacity-data-v-731d326a 2s infinite;animation:circle-opacity-data-v-731d326a 2s infinite}.isRec .circle[data-v-731d326a]:nth-child(2){-webkit-animation:circle-opacity-data-v-731d326a 2s infinite;animation:circle-opacity-data-v-731d326a 2s infinite;-webkit-animation-delay:.3s;animation-delay:.3s}.isRec .circle[data-v-731d326a]:nth-child(3){-webkit-animation:circle-opacity-data-v-731d326a 2s infinite;animation:circle-opacity-data-v-731d326a 2s infinite;-webkit-animation-delay:.6s;animation-delay:.6s}.isRec>.wave.ripple.danger .circle[data-v-731d326a]{background-color:#cde1ff}\n/* 波动效果 */.isRec .circle[data-v-731d326a]:first-child{-webkit-animation:circle-opacity-data-v-731d326a 2s infinite;animation:circle-opacity-data-v-731d326a 2s infinite}@-webkit-keyframes circle-opacity-data-v-731d326a{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}}@keyframes circle-opacity-data-v-731d326a{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}}.startRecord[data-v-731d326a]{color:#a4a4a4;font-size:%?26?%;text-align:center;margin-bottom:%?20?%}.selfRec[data-v-731d326a]{\n\t/* position: absolute; */bottom:0;width:100%}\n/* 进度条 */.progerss[data-v-731d326a]{position:absolute;left:0;top:0;border:%?3?% solid #1c75ff;width:80%}.saveBlue[data-v-731d326a]{background:-webkit-gradient(linear,left top,right top,from(#1c75ff),color-stop(10%,#1c75ff),color-stop(70%,#5799ff),to(#5799ff));background:-o-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);background:linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-ms-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);background:-webkit-linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-moz-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);color:#fff}.eoTipText[data-v-731d326a]{color:#111;font-size:%?34?%;font-weight:600;display:inline-block;margin:%?30?%}.eoTipBtn[data-v-731d326a]{margin:%?40?% 0 %?10?% 0}.eoTipBtn>uni-button[data-v-731d326a]{padding:%?38?% 0}\n/* 录音播放效果 */@-webkit-keyframes yuying1-data-v-731d326a{0%{height:0%}20%{height:50%}50%{height:100%}80%{height:50%}to{height:0%}}@keyframes yuying1-data-v-731d326a{0%{height:0%}20%{height:50%}50%{height:100%}80%{height:50%}to{height:0%}}.playContainer[data-v-731d326a]{width:%?90?%;height:%?30?%;margin:auto}.playContainer .one[data-v-731d326a]{animation:yuying1-data-v-731d326a .8s infinite .3s;-webkit-animation:yuying1-data-v-731d326a .8s infinite .3s}.playContainer .two[data-v-731d326a]{animation:yuying1-data-v-731d326a .8s infinite .4s;-webkit-animation:yuying1-data-v-731d326a .8s infinite .4s}.playContainer .three[data-v-731d326a]{animation:yuying1-data-v-731d326a .8s infinite .5s;-webkit-animation:yuying1-data-v-731d326a .8s infinite .5s}.playContainer .four[data-v-731d326a]{animation:yuying1-data-v-731d326a .8s infinite .6s;-webkit-animation:yuying1-data-v-731d326a .8s infinite .6s}.playContainer .five[data-v-731d326a]{animation:yuying1-data-v-731d326a .8s infinite .7s;-webkit-animation:yuying1-data-v-731d326a .8s infinite .7s}.five[data-v-731d326a],.four[data-v-731d326a],.one[data-v-731d326a],.three[data-v-731d326a],.two[data-v-731d326a]{width:%?6?%;height:100%;margin-left:%?10?%;border-radius:%?50?%;background-color:#1c75ff;vertical-align:middle;display:inline-block}body.?%PAGE?%[data-v-731d326a]{background-color:#fff}',""])},dd71:function(t,i,e){"use strict";e.r(i);var a=e("6bb6"),n=e("0f28");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("9d45");var s=e("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"4b6b38ea",null);i["default"]=c.exports},e45f:function(t,i,e){"use strict";e.r(i);var a=e("fb6e"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},e634:function(t,i,e){"use strict";e.r(i);var a=e("52fe"),n=e("e45f");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("641e");var s=e("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"731d326a",null);i["default"]=c.exports},f2f2:function(t,i,e){var a=e("919a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("63a289ef",a,!0,{sourceMap:!1,shadowMode:!1})},fb6e:function(t,i,e){"use strict";var a=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("7f7f");var n,o=e("781f"),s=e("5c82"),c=a(e("dd71")),r=e("ecd9"),l={components:{uniIcons:o.uniIcons,mpopup:c.default},data:function(){return{openInput:"",recStatus:"按住我开始录音",recComplete:!1,isleft:!0,isRight:!1,progerssShow:!1,recordTipShow:{opacity:"1"},isRec:!1,ttsScene:"",isSave:!1,isPlay:!0,confirmShow:!1,failShow:!1,jsData:"",isDisable:!0,localId:"",sceneName:"",serverId:"",jishi:0,xiaomiSucc:!1,mobile:"",isJishi:!1,startTime:"",endTime:"",timeConsum:0,sceneId:"",PrologueGet:"",ttsKey:"",sceneType:"",sceneDefId:""}},onLoad:function(t){t.id&&(this.sceneId=t.id,this.prologueGet()),this.getJsAPI(),this.checkTtsScene()},methods:{prologueGet:function(){var t=this,i={id:this.sceneId};this.$request.url_request(s.PROLOGUEGET,i,"GET",function(i){t.PrologueGet=JSON.parse(i.data).data.data,t.sceneName=t.PrologueGet.name,t.openInput=t.PrologueGet.customText,t.ttsKey=t.PrologueGet.ttsKey,t.sceneType=t.PrologueGet.sceneType,t.sceneDefId=t.prologueGet.sceneDefId},function(t){})},getJsAPI:function(){var t=this,i={};this.$request.url_request(s.JSAPI,i,"GET",function(i){t.jsData=JSON.parse(i.data).data,console.log("开场白得到的签名",t.jsData.signature),r.config({appId:t.jsData.appId,timestamp:t.jsData.timestamp,nonceStr:t.jsData.nonceStr,signature:t.jsData.signature,jsApiList:["startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","onVoicePlayEnd"]}),r.ready(function(){console.log("接口处理成功")}),r.error(function(){console.log("接口处理失败")})},function(t){})},xiaomishuo:function(){this.isDisable=!0,console.log("自己录",this.isDisable),this.xiaomiSucc=!1,this.isleft=!0,this.isRight=!1},cancelXiaomi:function(){this.xiaomiSucc=!1},saveXiaomi:function(){this.xiaomiSucc=!0},confirmXiaomi:function(){var t=this,i={customText:this.openInput,name:this.sceneName,id:this.sceneId,ttsKey:this.ttsKey,sceneType:this.sceneType,sceneDefId:this.sceneDefId};this.$request.url_request(s.SETTEXTPROLOGUE,i,"GET",function(i){200==JSON.parse(i.data).code?(uni.showToast({title:"保存成功！",icon:"success",mask:!0,duration:1e3}),t.xiaomiSucc=!1,setTimeout(function(){uni.reLaunch({url:"../Setting/Setting"})},1e3)):null===JSON.parse(i.data).resultMsg&&""===JSON.parse(i.data).resultMsg||(t.xiaomiSucc=!1,uni.showToast({title:JSON.parse(i.data).resultMsg,icon:"none",duration:1200}))},function(t){console.log("文本保存失败")})},delXiaomi:function(){},gotoSelfRecord:function(){console.log("自己录",this.isDisable),this.isDisable=!1,this.btnShow=!1,this.isleft=!1,this.isRight=!0},startRec:function(){var t=this;this.isJishi=!0,this.jishi=0,this.startTime=(new Date).getTime(),this.progerssShow=!0,this.recordTipShow.opacity="0",this.isRec=!0,this.recStatus="放开我停止录音",this.isPlay=!0,console.log("开始录音"),r.startRecord(),n=setInterval(function(){t.jishi++},1e3)},stopRec:function(){clearInterval(n),this.isJishi=!1,this.endTime=(new Date).getTime(),this.timeConsum=this.endTime-this.startTime,console.log(this.timeConsum);if(this.timeConsum/1e3<3)uni.showModal({content:"录音不足3秒",showCancel:!1});else{var t=this;this.isSave=!0,this.recComplete=!0,r.stopRecord({success:function(i){t.localId=i.localId,uni.showToast({title:"录音完成",icon:"none",mask:!0,duration:1e3})}})}this.progerssShow=!1,this.recordTipShow.opacity="1",this.isRec=!1,this.recStatus="按住我开始录音",this.isPlay=!1},playRecord:function(){var t=this;console.log("试听的localId",this.localId),""==this.localId?uni.showModal({content:"请先录制一段声音！",showCancel:!1}):r.playVoice({localId:t.localId})},delRec:function(){""==this.localId?(this.failShow=!1,uni.showModal({content:"请先录音！",showCancel:!1})):(this.isJishi=!1,this.confirmShow=!0)},confirmSave:function(){""==this.localId?(this.failShow=!1,uni.showModal({content:"请先录音！",showCancel:!1})):(this.isJishi=!1,this.failShow=!0)},saveRecord:function(){var t=this;""==this.localId?(this.failShow=!1,uni.showModal({content:"请先录音！",showCancel:!1})):(console.log("得到的录音时间",this.timeConsum),r.uploadVoice({localId:t.localId,isShowProgressTips:1,success:function(i){t.serverId=i.serverId;var e={serverId:t.serverId,voiceLength:t.timeConsum,name:this.sceneName,id:this.sceneId,ttsKey:this.ttsScene.ttsKey,sceneType:this.ttsScene.sceneType,sceneDefId:this.ttsScene.sceneDefId};t.$request.url_request(s.SETVOICEPROLOGUE,e,"GET",function(i){console.log("录音上传成功！"),uni.showToast({title:"保存成功!",icon:"success",duration:1e3}),setTimeout(function(){uni.navigateBack({})},1e3),t.confirmShow=!1,t.failShow=!1,t.isJishi=!1},function(t){uni.showToast({title:"保存失败!",icon:"none",duration:1e3}),console.log("录音上传失败！")})}}),this.confirmShow=!1,this.failShow=!1)},checkTtsScene:function(){var t=this,i={};this.$request.url_request(s.TTSSCENE,i,"GET",function(i){t.ttsScene=JSON.parse(i.data).data.data},function(t){})},cancelSave:function(){this.isJishi=!1,this.confirmShow=!1,this.failShow=!1},confirmCancel:function(){this.isJishi=!1,this.confirmShow=!1},goback:function(){uni.navigateBack({delta:1})}}};i.default=l}}]);