(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-SettingPage-AddScene-AddScene"],{"0f28":function(t,e,i){"use strict";i.r(e);var a=i("19d3"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"19d3":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6b54"),i("a481");var n=a(i("795b")),o={data:function(){return{popup_list:[],distance:65}},props:{isdistance:{type:Boolean,default:!0}},methods:{init:function(t){return"success"==t.type?(t.icon="../../static/xuan-popup/success.png",t.typeClass="mpopup-success",t):"warn"==t.type?(t.icon="../../static/xuan-popup/warn.png",t.typeClass="mpopup-warn",t):"info"==t.type?(t.icon="../../static/xuan-popup/info.png",t.typeClass="mpopup-info",t):"err"==t.type?(t.icon="../../static/xuan-popup/err.png",t.typeClass="mpopup-err",t):"loading"==t.type?(t.icon="../../static/xuan-popup/loading.png",t.typeClass="mpopup-loading",t):void 0},open:function(t){this.isdistance||(this.distance=0);var e=this.guid();t.uuid=e,t.animator="fade_Down","boolean"!=typeof t.isClick&&(t.isClick=!1);var i=this.init(t);this.popup_list.push(i),i.isClick?this.$emit("uuidCallback",i.uuid):this.disappear(i.uuid,i.timeout)},disappear:function(t,e){var i=this;this.fade_out_animator(t,e).then(function(t){setTimeout(function(){for(var e=0;e<i.popup_list.length;e++)i.popup_list[e].uuid==t&&(i.popup_list.splice(e,1),i.$forceUpdate())},250)})},fade_out_animator:function(t,e){var i=this;return e&&"number"==typeof e||(e=3e3),new n.default(function(a){setTimeout(function(){for(var e=0;e<i.popup_list.length;e++)i.popup_list[e].uuid==t&&(i.popup_list[e].animator="fade_Top",a(t))},e)})},close:function(t,e){var i=this;e&&!this.popup_list[e].isClick||this.remove_element(t).then(function(e){setTimeout(function(){for(var a=0;a<i.popup_list.length;a++)i.popup_list[a].uuid==e&&(i.popup_list.splice(a,1),i.$emit("closeCallback",t),i.$forceUpdate())},250)})},remove_element:function(t){var e=this;return new n.default(function(i){for(var a=0;a<e.popup_list.length;a++)if(e.popup_list[a].uuid==t){e.popup_list[a].animator="fade_Top",i(t);break}})},update:function(t){for(var e=0;e<this.popup_list.length;e++)if(this.popup_list[e].uuid==t.uuid){this.popup_list[e].type=t.type,this.init(this.popup_list[e]),this.popup_list[e].content=t.content;break}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})}}};e.default=o},"2f6e":function(t,e,i){var a=i("4d24");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6d877569",a,!0,{sourceMap:!1,shadowMode:!1})},"4d24":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'uni-page-body[data-v-5b27270e]{background-color:#fff}.toptitle[data-v-5b27270e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.sceneName[data-v-5b27270e]{margin-left:%?20?%;height:%?60?%;padding:%?10?% %?20?%}.editOpenContain[data-v-5b27270e]{background-color:#fff;padding:%?40?% %?30?%}.openContent[data-v-5b27270e]{margin:%?30?% 0;height:%?150?%}.openContent>uni-textarea[data-v-5b27270e]{width:100%;font-size:%?28?%;height:%?160?%}.btnLeft[data-v-5b27270e],.btnRight[data-v-5b27270e]{padding:%?16?% %?20?%;text-align:center;border:%?1?% solid #1c75ff;display:inline-block;width:%?200?%;font-size:%?26?%}.btnLeft[data-v-5b27270e]{border-radius:%?100?% 0 0 %?100?%}.btnRight[data-v-5b27270e]{border-radius:0 %?100?% %?100?% 0;color:#fff}.btnLeft>uni-text[data-v-5b27270e]:first-of-type{margin-right:%?10?%}.btnRight>uni-text[data-v-5b27270e]:first-of-type{margin-right:%?10?%}.blueBg[data-v-5b27270e]{background:linear-gradient(left,#5799ff,#5799ff 10%,#1c75ff 70%,#1c75ff);background:-ms-linear-gradient(left,#5799ff 0,#5799ff 10%,#1c75ff 70%,#1c75ff 100%);background:-webkit-linear-gradient(left,#5799ff,#5799ff 10%,#1c75ff 70%,#1c75ff);background:-moz-linear-gradient(left,#5799ff 0,#5799ff 10%,#1c75ff 70%,#1c75ff 100%);color:#fff}.blueColor[data-v-5b27270e]{color:#1c75ff}.openBtn[data-v-5b27270e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.deliverline[data-v-5b27270e]{border-top:%?1?% solid #e9e9e9;margin:%?50?% 0}.bottomBtn[data-v-5b27270e]{margin:auto;width:100%;bottom:%?20?%;position:absolute;padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.recordBtn>uni-button[data-v-5b27270e]{padding:%?40?% 0;font-size:%?34?%}.bottomBtn>uni-button[data-v-5b27270e]{padding:%?36?% %?121?%}.bottomBtn>uni-button[data-v-5b27270e]:first-of-type{color:#9d9d9d}.recordBtn[data-v-5b27270e]{padding:%?50?% 0;width:100%;background-color:#f1f4f6;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.recordBtn>uni-button[data-v-5b27270e]:first-of-type{color:#9d9d9d}.recordView[data-v-5b27270e]{background-color:#fff;padding:%?40?% %?100?%}.positionRela[data-v-5b27270e]{position:relative}.jishi[data-v-5b27270e]{text-align:center}.recordTip[data-v-5b27270e]{background-color:#a0c5ff;color:#ebf2ff;width:%?280?%;margin:auto;font-size:%?26?%;border-radius:%?14?%;padding:%?10?% 0;text-align:center;position:relative}.recordTip[data-v-5b27270e]:after{content:"";position:absolute;top:100%;left:44%;width:0;height:0;border:%?16?% solid;border-color:#a0c5ff transparent transparent transparent}.recordCircle[data-v-5b27270e]{background:linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-ms-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);background:-webkit-linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-moz-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);width:%?200?%;height:%?200?%;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?100?%;z-index:999}.recordIcon[data-v-5b27270e]{font-size:%?100?%;color:#fff}\n\n/* 录音效果 */.container[data-v-5b27270e]{\n\t/* position: absolute; */position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?250?%;height:%?250?%;margin:%?10?% auto}.isRec>.wave[data-v-5b27270e]{position:relative;width:%?200?%;height:%?200?%;z-index:8}.isRec .circle[data-v-5b27270e]{position:absolute;border-radius:50%;opacity:0}\n\n/* 波纹效果 */.isRec .circle[data-v-5b27270e]{width:%?200?%;\n\t/* 减去边框的大小 */height:%?200?%\n\t/* 减去边框的大小 */}.isRec .circle[data-v-5b27270e]:first-child{-webkit-animation:circle-opacity-data-v-5b27270e 2s infinite;animation:circle-opacity-data-v-5b27270e 2s infinite}.isRec .circle[data-v-5b27270e]:nth-child(2){-webkit-animation:circle-opacity-data-v-5b27270e 2s infinite;animation:circle-opacity-data-v-5b27270e 2s infinite;-webkit-animation-delay:.3s;animation-delay:.3s}.isRec .circle[data-v-5b27270e]:nth-child(3){-webkit-animation:circle-opacity-data-v-5b27270e 2s infinite;animation:circle-opacity-data-v-5b27270e 2s infinite;-webkit-animation-delay:.6s;animation-delay:.6s}.isRec>.wave.ripple.danger .circle[data-v-5b27270e]{background-color:#cde1ff}\n\n/* 波动效果 */.isRec .circle[data-v-5b27270e]:first-child{-webkit-animation:circle-opacity-data-v-5b27270e 2s infinite;animation:circle-opacity-data-v-5b27270e 2s infinite}@-webkit-keyframes circle-opacity-data-v-5b27270e{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}}@keyframes circle-opacity-data-v-5b27270e{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}}.startRecord[data-v-5b27270e]{color:#a4a4a4;font-size:%?26?%;text-align:center;margin-bottom:%?20?%}.selfRec[data-v-5b27270e]{\n\t/* position: absolute; */bottom:0;width:100%}\n\n/* 进度条 */.progerss[data-v-5b27270e]{position:absolute;left:0;top:0;border:%?3?% solid #1c75ff;width:80%}.saveBlue[data-v-5b27270e]{background:linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-ms-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);background:-webkit-linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 70%,#5799ff);background:-moz-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 70%,#5799ff 100%);color:#fff}.eoTipText[data-v-5b27270e]{color:#111;font-size:%?34?%;font-weight:600;display:inline-block;margin:%?30?%}.eoTipBtn[data-v-5b27270e]{margin:%?40?% 0 %?10?% 0}.eoTipBtn>uni-button[data-v-5b27270e]{padding:%?38?% 0}\n\n/* 录音播放效果 */@-webkit-keyframes yuying1-data-v-5b27270e{0%{height:0%}20%{height:50%}50%{height:100%}80%{height:50%}to{height:0%}}@keyframes yuying1-data-v-5b27270e{0%{height:0%}20%{height:50%}50%{height:100%}80%{height:50%}to{height:0%}}.playContainer[data-v-5b27270e]{width:%?90?%;height:%?30?%;margin:auto}.playContainer .one[data-v-5b27270e]{animation:yuying1-data-v-5b27270e .8s infinite .3s;-webkit-animation:yuying1-data-v-5b27270e .8s infinite .3s}.playContainer .two[data-v-5b27270e]{animation:yuying1-data-v-5b27270e .8s infinite .4s;-webkit-animation:yuying1-data-v-5b27270e .8s infinite .4s}.playContainer .three[data-v-5b27270e]{animation:yuying1-data-v-5b27270e .8s infinite .5s;-webkit-animation:yuying1-data-v-5b27270e .8s infinite .5s}.playContainer .four[data-v-5b27270e]{animation:yuying1-data-v-5b27270e .8s infinite .6s;-webkit-animation:yuying1-data-v-5b27270e .8s infinite .6s}.playContainer .five[data-v-5b27270e]{animation:yuying1-data-v-5b27270e .8s infinite .7s;-webkit-animation:yuying1-data-v-5b27270e .8s infinite .7s}.five[data-v-5b27270e],.four[data-v-5b27270e],.one[data-v-5b27270e],.three[data-v-5b27270e],.two[data-v-5b27270e]{width:%?6?%;height:100%;margin-left:%?10?%;border-radius:%?50?%;background-color:#1c75ff;vertical-align:middle;display:inline-block}body.?%PAGE?%[data-v-5b27270e]{background-color:#fff}',""])},"5deb":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.mpopup[data-v-4b6b38ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-height:45px;width:%?550?%;-webkit-transition:all .5s;transition:all .5s;position:fixed;left:0;right:0;margin:0 auto;border-radius:5px;z-index:998}.mpopup .pic[data-v-4b6b38ea]{display:-webkit-box;display:-webkit-flex;display:flex;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:15px;height:15px;margin:auto 20px auto 0}.mpopup .pic .icon[data-v-4b6b38ea]{width:100%;height:auto}.mpopup .text[data-v-4b6b38ea]{margin:auto 20px auto 0;width:65%;font-size:16px}.mpopup-success[data-v-4b6b38ea]{background:#f0f9eb;border:1px solid #e1f3d8;color:#67c23a}.mpopup-err[data-v-4b6b38ea]{background:#fef0f0;border:1px solid #fde2e2;color:#f56c6c}.mpopup-warn[data-v-4b6b38ea]{background:#fdf6ec;border:1px solid #faecd8;color:#e6a23c}.mpopup-info[data-v-4b6b38ea]{background:#edf2fc;border:1px solid #ebeef5;color:#909399}.mpopup-loading[data-v-4b6b38ea]{background:#e2f5ff;border:1px solid #ceeeff;color:#5cbaff}.mpopup-loading uni-image[data-v-4b6b38ea]{-webkit-animation:rotate360-data-v-4b6b38ea 1.5s ease infinite;animation:rotate360-data-v-4b6b38ea 1.5s ease infinite}.fade_Down[data-v-4b6b38ea]{-webkit-animation:fadeInDown-data-v-4b6b38ea .6s both;animation:fadeInDown-data-v-4b6b38ea .6s both}.fade_Top[data-v-4b6b38ea]{-webkit-animation:fadeInTop-data-v-4b6b38ea .5s forwards;animation:fadeInTop-data-v-4b6b38ea .5s forwards}\n/*从上到下*/@-webkit-keyframes fadeInDown-data-v-4b6b38ea{0%{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}to{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}}@keyframes fadeInDown-data-v-4b6b38ea{0%{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}to{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}}\n/*从下到上*/@-webkit-keyframes fadeInTop-data-v-4b6b38ea{0%{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}to{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}}@keyframes fadeInTop-data-v-4b6b38ea{0%{opacity:1;-webkit-transform:translateY(10px);transform:stranslate(0,10px)}to{opacity:0;-webkit-transform:translateY(-100px);transform:stranslate(0,-100px)}}@-webkit-keyframes rotate360-data-v-4b6b38ea{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate360-data-v-4b6b38ea{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""])},"6bb6":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"popup_list"},t._l(t.popup_list,function(e,a){return i("v-uni-view",{key:e.uuid,attrs:{id:e.uuid}},[i("v-uni-view",{staticClass:"mpopup",class:[e.animator,e.typeClass],style:{background:e.color,top:a*t.distance+45+"px"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close(e.uuid,a)}}},[i("v-uni-view",{staticClass:"pic"},[i("v-uni-image",{staticClass:"icon",attrs:{mode:"aspectFit",src:e.icon}})],1),i("v-uni-text",{staticClass:"text",style:{color:e.colortext}},[t._v(t._s(e.content))])],1)],1)}),1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},7324:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=i("781f"),s=i("5c82"),c=a(i("dd71")),r=i("64c5"),l={components:{uniIcons:o.uniIcons,mpopup:c.default},data:function(){return{openInput:"",recStatus:"按住我开始录音",recComplete:!1,isleft:!0,isRight:!1,progerssShow:!1,recordTipShow:{opacity:"1"},isRec:!1,ttsScene:"",isSave:!1,isPlay:!0,confirmShow:!1,failShow:!1,jsData:"",isDisable:!0,localId:"",sceneName:"",serverId:"",jishi:0,xiaomiSucc:!1,mobile:"",isJishi:!1,startTime:"",endTime:"",timeConsum:0,sceneId:"",PrologueGet:"",ttsKey:"",sceneType:"",sceneDefId:""}},onLoad:function(t){uni.showToast({title:"加载中...",icon:"none"}),t.id&&(this.sceneId=t.id,this.prologueGet()),this.getJsAPI(),this.checkTtsScene()},methods:{checkTtsScene:function(){var t=this,e={};this.$request.url_request(s.TTSSCENE,e,"GET",function(e){uni.hideToast(),t.ttsScene=JSON.parse(e.data).data.data,console.log("sdadada",t.ttsScene)},function(t){})},prologueGet:function(){var t=this,e={id:this.sceneId};this.$request.url_request(s.PROLOGUEGET,e,"GET",function(e){t.PrologueGet=JSON.parse(e.data).data.data,t.sceneName=t.PrologueGet.name,t.openInput=t.PrologueGet.customText,t.ttsKey=t.PrologueGet.ttsKey,t.sceneType=t.PrologueGet.sceneType,t.sceneDefId=t.PrologueGet.sceneDefId},function(t){})},getJsAPI:function(){var t=this,e={};this.$request.url_request(s.JSAPI,e,"GET",function(e){t.jsData=JSON.parse(e.data).data,console.log("开场白得到的签名",t.jsData.signature),r.config({appId:t.jsData.appId,timestamp:t.jsData.timestamp,nonceStr:t.jsData.nonceStr,signature:t.jsData.signature,jsApiList:["startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","onVoicePlayEnd"]}),r.ready(function(){console.log("接口处理成功")}),r.error(function(){console.log("接口处理失败")})},function(t){})},xiaomishuo:function(){this.isDisable=!0,console.log("自己录",this.isDisable),this.xiaomiSucc=!1,this.isleft=!0,this.isRight=!1},cancelXiaomi:function(){this.xiaomiSucc=!1},saveXiaomi:function(){this.xiaomiSucc=!0},confirmXiaomi:function(){var t=this,e={customText:this.openInput,name:this.sceneName,id:this.sceneId,ttsKey:this.ttsKey,sceneType:this.sceneType,sceneDefId:this.sceneDefId};this.$request.url_request(s.SETTEXTPROLOGUE,e,"GET",function(e){200==JSON.parse(e.data).code?(uni.showToast({title:"保存成功！",icon:"success",mask:!0,duration:1e3}),t.xiaomiSucc=!1,setTimeout(function(){uni.reLaunch({url:"../Setting/Setting"})},1e3)):null===JSON.parse(e.data).resultMsg&&""===JSON.parse(e.data).resultMsg||(t.xiaomiSucc=!1,uni.showToast({title:JSON.parse(e.data).resultMsg,icon:"none",duration:1200}))},function(t){console.log("文本保存失败")})},delXiaomi:function(){},gotoSelfRecord:function(){console.log("自己录",this.isDisable),this.isDisable=!1,this.btnShow=!1,this.isleft=!1,this.isRight=!0},startRec:function(){var t=this;this.isJishi=!0,this.jishi=0,this.startTime=(new Date).getTime(),this.progerssShow=!0,this.recordTipShow.opacity="0",this.isRec=!0,this.recStatus="放开我停止录音",this.isPlay=!0,console.log("开始录音"),r.startRecord(),n=setInterval(function(){t.jishi++},1e3)},stopRec:function(){clearInterval(n),this.isJishi=!1,this.endTime=(new Date).getTime(),this.timeConsum=this.endTime-this.startTime,console.log(this.timeConsum);if(this.timeConsum/1e3<3)uni.showModal({content:"录音不足3秒",showCancel:!1});else{var t=this;this.isSave=!0,this.recComplete=!0,r.stopRecord({success:function(e){t.localId=e.localId,uni.showToast({title:"录音完成",icon:"none",mask:!0,duration:1e3})}})}this.progerssShow=!1,this.recordTipShow.opacity="1",this.isRec=!1,this.recStatus="按住我开始录音",this.isPlay=!1},playRecord:function(){var t=this;console.log("试听的localId",this.localId),""==this.localId?uni.showModal({content:"请先录制一段声音！",showCancel:!1}):r.playVoice({localId:t.localId})},delRec:function(){""==this.localId?(this.failShow=!1,uni.showModal({content:"请先录音！",showCancel:!1})):(this.isJishi=!1,this.confirmShow=!0)},confirmSave:function(){""==this.localId?(this.failShow=!1,uni.showModal({content:"请先录音！",showCancel:!1})):(this.isJishi=!1,this.failShow=!0)},saveRecord:function(){var t=this;""==this.localId?(this.failShow=!1,uni.showModal({content:"请先录音！",showCancel:!1})):(console.log("得到的录音时间",this.timeConsum),r.uploadVoice({localId:t.localId,isShowProgressTips:1,success:function(e){var i=this;t.serverId=e.serverId;var a={serverId:t.serverId,voiceLength:t.timeConsum,name:t.sceneName,id:t.sceneId,ttsKey:t.ttsScene.ttsKey,sceneType:t.ttsScene.sceneType,sceneDefId:t.ttsScene.sceneDefId,customText:"自定义语音开场白"};console.log("录音参数",a),t.$request.url_request(s.SETVOICEPROLOGUE,a,"GET",function(e){200==JSON.parse(e.data).code?(console.log("录音上传成功！"),uni.showToast({title:"保存成功!",icon:"success",duration:1e3}),setTimeout(function(){uni.reLaunch({url:"../Setting/Setting"})},1e3),t.confirmShow=!1,t.failShow=!1,t.isJishi=!1):null===JSON.parse(e.data).resultMsg&&""===JSON.parse(e.data).resultMsg||(i.xiaomiSucc=!1,uni.showToast({title:JSON.parse(e.data).resultMsg,icon:"none",duration:1200}))},function(t){uni.showToast({title:"保存失败!",icon:"none",duration:1e3}),console.log("录音上传失败！")})}}),this.confirmShow=!1,this.failShow=!1)},cancelSave:function(){this.isJishi=!1,this.confirmShow=!1,this.failShow=!1},confirmCancel:function(){this.isJishi=!1,this.confirmShow=!1},goback:function(){uni.navigateBack({delta:1})}}};e.default=l},"9d45":function(t,e,i){"use strict";var a=i("cd4a"),n=i.n(a);n.a},bf59:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ttsScene?i("v-uni-view",{staticClass:"editOpen"},[i("v-uni-view",{staticClass:"editOpenContain shadowE7"},[i("v-uni-view",{staticClass:"toptitle"},[i("v-uni-text",{staticClass:"fontStyle30"},[t._v("名称")]),i("v-uni-input",{staticClass:"sceneName",attrs:{type:"text",placeholder:"输入场景名称"},model:{value:t.sceneName,callback:function(e){t.sceneName=e},expression:"sceneName"}})],1),i("v-uni-view",{staticClass:"deliverline"}),i("v-uni-view",{staticClass:"flexDisplay"},[i("v-uni-view",[i("v-uni-text",{staticClass:"fontStyle30"},[t._v("开场白")])],1),t.isleft?i("v-uni-text",{staticClass:"cuIcon-notification iconSize"}):t._e(),t.recComplete?i("v-uni-text",{staticClass:"greyTextXs",staticStyle:{color:"#1C75FF","font-size":"28rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.playRecord.apply(void 0,arguments)}}},[t._v("试听")]):t._e()],1),i("v-uni-view",{staticClass:"openContent",class:t.isRight?"greyText":""},[t.isDisable?i("v-uni-textarea",{attrs:{maxlength:"100",bindinput:"textareaAInput",placeholder:"请输入自定义开场白"},model:{value:t.openInput,callback:function(e){t.openInput=e},expression:"openInput"}}):i("v-uni-textarea",{attrs:{maxlength:"100",bindinput:"textareaAInput",disabled:!0,placeholder:'Tips:请在录音结尾处加上"有什么是你可以先和我的「小秘」说"'}})],1),i("v-uni-view",{staticClass:"openBtn"},[i("v-uni-view",[i("v-uni-view",{staticClass:"btnLeft",class:t.isleft?"blueBg":"blueColor",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.xiaomishuo.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-writefill"}),i("v-uni-text",[t._v("小秘说")])],1),i("v-uni-view",{staticClass:"btnRight",class:t.isRight?"blueBg":"blueColor",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoSelfRecord.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-voicefill"}),i("v-uni-text",[t._v("自己录")])],1)],1),t.isleft?i("v-uni-view",{staticClass:"greyText"},[i("v-uni-text",[t._v(t._s(t.openInput?t.openInput.length:0)+"/100")])],1):t._e()],1)],1),t.isleft?i("v-uni-view",{staticClass:"bottomBtn cu-bar btn-group"},[i("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delXiaomi.apply(void 0,arguments)}}},[t._v("删除")]),i("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveXiaomi.apply(void 0,arguments)}}},[t._v("保存")])],1):t._e(),t.isRight?i("v-uni-view",{staticClass:"selfRec"},[i("v-uni-view",{staticClass:"recordBtn cu-bar btn-group"},[i("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delRec.apply(void 0,arguments)}}},[t._v("删除")]),i("v-uni-button",{staticClass:"cu-btn bg-blue shadowE7 round",class:t.isSave?"saveBlue":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmSave.apply(void 0,arguments)}}},[t._v("保存")])],1),i("v-uni-view",{staticClass:"positionRela"},[i("v-uni-view",{staticClass:"recordView"},[t.isJishi?i("v-uni-view",{staticClass:"jishi"},[i("v-uni-text",[t._v("正在录音"+t._s(t.jishi)+"秒")])],1):t._e(),i("v-uni-view",{staticClass:"recordTip",style:t.recordTipShow},[t._v("按住我开始录音")]),i("v-uni-view",{staticClass:"container",class:t.isRec?"isRec":""},[i("v-uni-view",{staticClass:"wave ripple danger"},[i("v-uni-view",{staticClass:"circle"}),i("v-uni-view",{staticClass:"circle"}),i("v-uni-view",{staticClass:"circle"}),i("v-uni-view",{staticClass:"recordCircle",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.startRec.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.stopRec.apply(void 0,arguments)}}},[t.isPlay?i("v-uni-text",{staticClass:"cuIcon-voicefill recordIcon"}):i("v-uni-text",{staticClass:"cuIcon-playfill recordIcon"})],1)],1)],1),i("v-uni-view",{staticClass:"startRecord"},[i("v-uni-text",[t._v(t._s(t.recStatus))])],1)],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"cu-modal",class:t.xiaomiSucc?"show":""},[i("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"border-radius":"20rpx"}},[i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-text",{staticClass:"eoTipText"},[t._v("确认开场白？")]),i("v-uni-view",{staticClass:"cu-bar btn-group eoTipBtn"},[i("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelXiaomi.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmXiaomi.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-modal",class:t.confirmShow?"show":""},[i("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"border-radius":"20rpx"}},[i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-text",{staticClass:"eoTipText"},[t._v("场景对话还未保存，确认要放弃吗？")]),i("v-uni-view",{staticClass:"cu-bar btn-group eoTipBtn"},[i("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelSave.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmCancel.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-modal",class:t.failShow?"show":""},[i("v-uni-view",{staticClass:"cu-dialog",staticStyle:{"border-radius":"20rpx"}},[i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-text",{staticClass:"eoTipText"},[t._v("确认保存录音？")]),i("v-uni-view",{staticClass:"cu-bar btn-group eoTipBtn"},[i("v-uni-button",{staticClass:"cu-btn bg-white shadowE7 round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelSave.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveRecord.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1),i("mpopup",{ref:"mpopup",attrs:{isdistance:!0}})],1):t._e()},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},cd4a:function(t,e,i){var a=i("5deb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("d6c8433a",a,!0,{sourceMap:!1,shadowMode:!1})},dd71:function(t,e,i){"use strict";i.r(e);var a=i("6bb6"),n=i("0f28");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("9d45");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"4b6b38ea",null,!1,a["a"],s);e["default"]=r.exports},e45f:function(t,e,i){"use strict";i.r(e);var a=i("7324"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},e634:function(t,e,i){"use strict";i.r(e);var a=i("bf59"),n=i("e45f");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("ff38");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"5b27270e",null,!1,a["a"],s);e["default"]=r.exports},ff38:function(t,e,i){"use strict";var a=i("2f6e"),n=i.n(a);n.a}}]);