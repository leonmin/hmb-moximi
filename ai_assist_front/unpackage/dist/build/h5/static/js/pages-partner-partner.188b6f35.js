(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-partner-partner"],{"3a87":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a"),i("5df3");var a=n(i("cebc")),o=n(i("795b"));i("4917"),i("3b2b"),i("28a5"),i("386d");var r,s=n(i("bd86")),c=n(i("137e")),l=i("5c82"),f=i("64c5"),d={components:{uniPopup:c.default},data:function(){var t;return t={infoData:"",imageshow:!1,QRurl:null,ctx:"",canvasShow:!1},(0,s.default)(t,"ctx",""),(0,s.default)(t,"imgeUrl",""),(0,s.default)(t,"canvasHOw",!0),t},onLoad:function(){uni.showToast({title:"加载中...",icon:"none"}),this.initData(),this.getUrlToken(),this.getJSAPI()},onPullDownRefresh:function(){this.initData()},methods:{getQueryString:function(t){var e=window.location.search;if(e.indexOf("?"),e=window.location.href.split("?")[1]||e.substr(1),e){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e.match(i);return null!==n?decodeURIComponent(n[2]):null}},getUrlToken:function(){if(r=this.getQueryString("token"),r)try{uni.setStorageSync("myToken",r)}catch(t){uni.showModal({content:t,showCancel:!1})}else uni.navigateTo({url:"partnerJumpLogin/partnerJumpLogin"})},initData:function(){var t=this,e={};this.$request.url_request(l.PARTNERINFO,e,"GET",function(e){-900401==JSON.parse(e.data).code&&uni.navigateTo({url:"partnerTip/partnerTip"}),t.infoData=JSON.parse(e.data).data,console.log("得到的initData=>",t.infoData),uni.stopPullDownRefresh(),uni.hideToast()},function(t){},!0)},getJSAPI:function(){var t=this,e={};this.$request.url_request(l.JSAPI,e,"GET",function(e){t.jsData=JSON.parse(e.data).data,console.log("得到的签名",t.jsData.signature),f.config({appId:t.jsData.appId,timestamp:t.jsData.timestamp,nonceStr:t.jsData.nonceStr,signature:t.jsData.signature,jsApiList:["checkJsApi","updateAppMessageShareData","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareTimeline"]}),f.ready(function(){console.log("接口处理成功")}),f.error(function(){console.log("接口处理失败")})},function(t){})},popShare:function(){this.$refs.share.open()},promisify:function(t){return function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new o.default(function(i,o){var r={success:i,fail:o};t.apply(void 0,[(0,a.default)({},e,r)].concat(n))})}},poster:function(){var t=this,e=this,i=this.promisify(uni.getImageInfo);o.default.all([i({src:"https://ai-assist.oss-cn-beijing.aliyuncs.com/poster/haibao%402x.jpg"}),i({src:e.QRurl})]).then(function(i){console.log("res",i),t.ctx||(t.ctx=uni.createCanvasContext("shareCanvas")),console.log("8888",t.ctx);i[0].height,i[0].width;var n=uni.getSystemInfoSync(),a=n.windowWidth,o=n.windowHeight;console.log("win_w = "+a+"win_h = "+o);var r=837/470,s=140/750*a,c=a-2*s,l=c*r;t.ctx.fillRect(0,0,c,l),console.log("card_h=>",l,"----card_w=>",c),console.log(451/1334*o),console.log(1057/1334*o),t.ctx.drawImage(i[0].path,s,451/1334*o,c,l),t.ctx.drawImage(i[1].path,.22*a,1057/1334*o,172/750*a,172/750*a),t.imageshow=!0,setTimeout(function(){t.ctx.draw(!0,function(i){console.log("success",i),e.tempFileImage(),uni.hideLoading(),t.imageshow=!0})},600)})},tempFileImage:function(){var t=this,e=uni.getSystemInfoSync();e.windowWidth,e.windowHeight;uni.canvasToTempFilePath({x:0,y:0,width:600,height:1e3,canvasId:"shareCanvas",success:function(e){console.log("绘制res",e),t.imgeUrl=e.tempFilePath,uni.hideLoading(),t.canvasHOw=!1},fail:function(){}})},share:function(){var t=this,e=this;uni.showLoading({title:"海报生成中",mask:!1});var i={};this.$request.url_request(l.QRCODE,i,"GET",function(i){t.QRurl=JSON.parse(i.data).data.poster,setTimeout(function(){e.$refs.share.close(),e.imageshow=!0,e.$forceUpdate(),uni.hideLoading()},1e3),console.log("返回的二维码",t.QRurl)},function(t){})},onCopyResult:function(t){"success"===t&&(uni.showToast({title:"复制成功",icon:"none",duration:1e3}),this.$refs.share.close())},close:function(){this.$refs.share.close(),this.imageshow=!1},balance:function(){uni.navigateTo({url:"balanceSubsidiary/balanceSubsidiary"})},tixian:function(){uni.navigateTo({url:"partnerDraw/partnerDraw"})},camiloPackage:function(){uni.navigateTo({url:"camiloPackage/camiloPackage"})},inviteNum:function(){uni.navigateTo({url:"partnerInvite/partnerInvite"})}}};e.default=d},"417d":function(t,e,i){t.exports=i.p+"static/img/beijing@2x.9f55dc07.jpg"},5159:function(t,e,i){var n=i("b041");e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-4445df54]{background-color:#fff}.ddd[data-v-4445df54]{width:100%;height:100vh\n\t/* height: 200rpx; */\n\t/* background-color: #ffffff; */}\n\n/* 合伙人顶部 */.partnerHeader[data-v-4445df54]{width:%?750?%;height:%?749?%;padding:%?40?% %?30?%;color:#fff;background-size:cover;background-image:url("+n(i("417d"))+")}.titleBox[data-v-4445df54]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.title[data-v-4445df54]{font-size:%?36?%}.exitBtn[data-v-4445df54]{font-size:%?26?%;outline:none;width:%?160?%;height:%?63?%;color:#fff;border-radius:%?10?%;border:1px solid #fff;background-color:rgba(0,0,0,0)}\n\n/* 当前y余额 */.balance[data-v-4445df54]{margin-top:%?65?%;text-align:center}.balance>uni-text[data-v-4445df54]:first-of-type{font-size:%?26?%}.cash[data-v-4445df54]{margin-top:%?34?%}.cash>uni-text[data-v-4445df54]:first-of-type{font-size:%?34?%}.cash>uni-text[data-v-4445df54]:nth-of-type(2){font-size:%?40?%;margin-left:%?8?%}.balanceBtn[data-v-4445df54]{margin-top:%?47?%;font-size:%?28?%}.balanceBtn>uni-text[data-v-4445df54]:nth-of-type(2){margin:0 %?33?%}\n\n/* 合伙人邀请人数 */.partnerInvite[data-v-4445df54]{\n\t/* margin: 20rpx 0; */padding:%?20?% 0}.content[data-v-4445df54]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.menu[data-v-4445df54]{\n\t/* margin: 0 30rpx; */}.inviteNum[data-v-4445df54]{color:#e01212;font-size:%?30?%}.inviteUrl[data-v-4445df54]{max-width:%?400?%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;-webkit-line-clamp:1;color:#000;font-size:%?30?%}.deliver[data-v-4445df54]{border-top:%?1?% solid #f4f4f4;margin:%?30?% %?30?%}.invite[data-v-4445df54]{margin-top:%?20?%!important}.right[data-v-4445df54]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:right}.copy[data-v-4445df54]{color:#1c75ff;font-size:%?28?%}.shareBtn[data-v-4445df54]{background:#fff}.shareBtn>uni-button[data-v-4445df54]{\n\t/* width: 100%; */color:#fff;border-radius:%?100?%;font-size:%?30?%;margin:0 %?30?%;background:-webkit-gradient(linear,left top,right top,from(#1c75ff),color-stop(10%,#1c75ff),color-stop(80%,#5799ff),to(#5799ff));background:-o-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 80%,#5799ff 100%);background:linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 80%,#5799ff);background:-ms-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 80%,#5799ff 100%);background:-webkit-linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 80%,#5799ff);background:-moz-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 80%,#5799ff 100%)}.imageshadow[data-v-4445df54]{width:100%;background-color:rgba(0,0,0,.8);height:100vh;position:fixed;z-index:999;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.shadowItem[data-v-4445df54]{padding:0 %?50?%;margin-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.shadowItem>uni-image[data-v-4445df54]:first-of-type{width:%?276?%;height:%?93?%;display:block}.shadowItem>uni-image[data-v-4445df54]:nth-of-type(2){width:%?42?%;height:%?55?%;display:block;margin-top:%?30?%}\n\n/* 分享pop */.sharePop[data-v-4445df54]{background:#fff;padding:%?40?% 0;border-radius:%?30?% %?30?% %?0?% %?0?%}.popText[data-v-4445df54]{font-size:%?34?%;color:#333;margin:0 %?38?%;margin-top:%?40?%}.popDeliver[data-v-4445df54]{border-top:%?1?% solid #e9e9e9;margin-top:%?79?%}.popBtn[data-v-4445df54]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:%?40?%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}uni-button[data-v-4445df54]:after{border:none}.popBtnLeft[data-v-4445df54],.popBtnRight[data-v-4445df54]{border-radius:%?36?%;color:#fff;text-align:center;line-height:%?72?%;margin:0 %?30?%}.popBtnLeft[data-v-4445df54]{color:#1c75ff;width:%?281?%;height:%?72?%;border:%?1?% solid #3296fa}.popBtnRight[data-v-4445df54]{width:%?281?%;height:%?72?%;background:-webkit-gradient(linear,right top,left top,from(#1c75ff),to(#5799ff));background:-o-linear-gradient(right,#1c75ff,#5799ff);background:linear-gradient(-90deg,#1c75ff,#5799ff)}.shareImgae[data-v-4445df54]{position:relative}.imageView[data-v-4445df54]{width:%?481?%;height:%?841?%;border-radius:%?10?%;margin-top:%?38?%}.imageView>uni-image[data-v-4445df54]{border-radius:%?10?%;width:%?481?%;height:%?841?%}.closeIcon[data-v-4445df54]{width:%?50?%;height:%?50?%;margin-top:%?33?%}.closeIcon>uni-image[data-v-4445df54]{width:%?50?%;height:%?50?%}body.?%PAGE?%[data-v-4445df54]{background-color:#fff}",""])},"5df3":function(t,e,i){"use strict";var n=i("02f4")(!0);i("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},"6a97":function(t,e,i){"use strict";i.r(e);var n=i("b5d9"),a=i("ff09");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("a357");var r=i("2877"),s=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,"4445df54",null);e["default"]=s.exports},a357:function(t,e,i){"use strict";var n=i("dc7f"),a=i.n(n);a.a},b041:function(t,e){t.exports=function(t){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},b5d9:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.infoData?i("v-uni-view",{staticClass:"partner"},[i("v-uni-view",{staticClass:"partnerHeader"},[i("v-uni-view",{staticClass:"titleBox"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",[t._v("嗨！")]),i("v-uni-text",[t._v(t._s(t.infoData.mobile))])],1)],1),i("v-uni-view",{staticClass:"balance"},[i("v-uni-text",[t._v("当前余额")]),i("v-uni-view",{staticClass:"cash"},[i("v-uni-text",[t._v("¥")]),i("v-uni-text",[t._v(t._s(t.infoData.balance))])],1),i("v-uni-view",{staticClass:"balanceBtn"},[i("v-uni-text",{on:{click:function(e){e=t.$handleEvent(e),t.tixian(e)}}},[t._v("立即提现")]),i("v-uni-text",[t._v("|")]),i("v-uni-text",{on:{click:function(e){e=t.$handleEvent(e),t.balance(e)}}},[t._v("余额明细")])],1)],1)],1),i("v-uni-view",{staticClass:"partnerInvite"},[i("v-uni-view",{staticClass:"cu-list menu"},[i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"0",padding:"0 30rpx"},on:{click:function(e){e=t.$handleEvent(e),t.inviteNum(e)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"fontStyle30"},[t._v("累计邀请人数")]),i("v-uni-view",[i("v-uni-text",{staticClass:"inviteNum"},[t._v(t._s(t.infoData.inviteUserCount)+"人")]),i("v-uni-text",{staticClass:"cuIcon-right",staticStyle:{color:"#C2C2C2"}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"0",padding:"0 30rpx"},on:{click:function(e){e=t.$handleEvent(e),t.camiloPackage(e)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"fontStyle30"},[t._v("卡密包")]),i("v-uni-view",[i("v-uni-text",{staticClass:"inviteNum"},[t._v(t._s(t.infoData.cardCount)+" 有效")]),i("v-uni-text",{staticClass:"cuIcon-right",staticStyle:{color:"#C2C2C2"}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-item invite",staticStyle:{margin:"0",padding:"0 30rpx"}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{staticClass:"fontStyle30"},[t._v("专属邀请链接")]),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"inviteUrl"},[t._v(t._s(t.infoData.inviteUrl2))]),i("v-uni-text",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.infoData.inviteUrl2,expression:"infoData.inviteUrl2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(e){return t.onCopyResult("success")},expression:"(type) => onCopyResult('success')",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(e){return t.onCopyResult("error")},expression:"(type) => onCopyResult('error')",arg:"error"}],staticClass:"copy"},[t._v("点击复制")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"shareBtn"},[i("v-uni-button",{on:{click:function(e){e=t.$handleEvent(e),t.popShare(e)}}},[t._v("立即分享")])],1),i("uni-popup",{ref:"share",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"sharePop"},[i("v-uni-view",{staticClass:"popText"},[t._v("可分享推广海报至微信朋友圈或微信好友也可复制推广链接，手动发放。")]),i("v-uni-view",{staticClass:"popDeliver"}),i("v-uni-view",{staticClass:"popBtn"},[i("v-uni-view",{staticClass:"popBtnLeft",on:{click:function(e){e=t.$handleEvent(e),t.share(e)}}},[t._v("海报分享")]),i("v-uni-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.infoData.inviteUrl2,expression:"infoData.inviteUrl2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(e){return t.onCopyResult("success")},expression:"(type) => onCopyResult('success')",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(e){return t.onCopyResult("error")},expression:"(type) => onCopyResult('error')",arg:"error"}],staticClass:"popBtnRight"},[t._v("复制链接")])],1)],1)],1),t.QRurl&&t.imageshow?i("v-uni-view",{staticClass:"imageshadow",staticStyle:{"z-index":"11000"}},[i("v-uni-view",{staticClass:"shadowItem"},[i("v-uni-image",{attrs:{src:"../../static/partner/wenzi@2x.png",mode:""}}),i("v-uni-image",{attrs:{src:"../../static/partner/arrow@2x.png",mode:""}}),i("v-uni-view",{staticClass:"shareImgae"},[i("v-uni-view",{staticClass:"imageView"},[i("v-uni-image",{attrs:{src:t.QRurl,mode:""}})],1)],1),i("v-uni-view",{staticClass:"closeIcon",on:{click:function(e){e=t.$handleEvent(e),t.close(e)}}},[i("v-uni-image",{attrs:{src:"../../static/incomeHome/guanbi@2x.png",mode:""}})],1)],1)],1):t._e()],1):t._e()},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},dc7f:function(t,e,i){var n=i("5159");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("05d37aff",n,!0,{sourceMap:!1,shadowMode:!1})},ff09:function(t,e,i){"use strict";i.r(e);var n=i("3a87"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a}}]);