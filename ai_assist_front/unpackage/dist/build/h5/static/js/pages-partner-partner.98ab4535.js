(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-partner-partner"],{"417d":function(t,a,e){t.exports=e.p+"static/img/beijing@2x.9f55dc07.jpg"},"5df3":function(t,a,e){"use strict";var i=e("02f4")(!0);e("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,a=this._t,e=this._i;return e>=a.length?{value:void 0,done:!0}:(t=i(a,e),this._i+=t.length,{value:t,done:!1})})},"6a97":function(t,a,e){"use strict";e.r(a);var i=e("ef71"),n=e("ff09");for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);e("9c63");var r,s=e("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"a9ba5438",null,!1,i["a"],r);a["default"]=c.exports},"9c63":function(t,a,e){"use strict";var i=e("fccd"),n=e.n(i);n.a},b041:function(t,a){t.exports=function(t){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},b17b:function(t,a,e){"use strict";var i=e("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("ac6a"),e("5df3");var n=i(e("cebc")),o=i(e("795b"));e("4917"),e("3b2b"),e("28a5"),e("386d");var r,s=i(e("bd86")),c=i(e("137e")),l=e("5c82"),u=e("64c5"),d={components:{uniPopup:c.default},data:function(){var t;return t={infoData:"",imageshow:!1,QRurl:null,ctx:"",canvasShow:!1},(0,s.default)(t,"ctx",""),(0,s.default)(t,"imgeUrl",""),(0,s.default)(t,"canvasHOw",!0),t},onLoad:function(){uni.showToast({title:"加载中...",icon:"none"}),this.initData(),this.getUrlToken(),this.getJSAPI()},onPullDownRefresh:function(){this.initData()},methods:{getQueryString:function(t){var a=window.location.search;if(a.indexOf("?"),a=window.location.href.split("?")[1]||a.substr(1),a){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=a.match(e);return null!==i?decodeURIComponent(i[2]):null}},getUrlToken:function(){if(r=this.getQueryString("token"),r)try{uni.setStorageSync("myToken",r)}catch(t){uni.showModal({content:t,showCancel:!1})}else uni.navigateTo({url:"partnerJumpLogin/partnerJumpLogin"})},initData:function(){var t=this,a={};this.$request.url_request(l.PARTNERINFO,a,"GET",function(a){-900401==JSON.parse(a.data).code&&uni.navigateTo({url:"partnerTip/partnerTip"}),t.infoData=JSON.parse(a.data).data,console.log("得到的initData=>",t.infoData),uni.stopPullDownRefresh(),uni.hideToast()},function(t){},!0)},getJSAPI:function(){var t=this,a={};this.$request.url_request(l.JSAPI,a,"GET",function(a){t.jsData=JSON.parse(a.data).data,console.log("得到的签名",t.jsData.signature),u.config({appId:t.jsData.appId,timestamp:t.jsData.timestamp,nonceStr:t.jsData.nonceStr,signature:t.jsData.signature,jsApiList:["checkJsApi","updateAppMessageShareData","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareTimeline"]}),u.ready(function(){console.log("接口处理成功")}),u.error(function(){console.log("接口处理失败")})},function(t){})},popShare:function(){this.$refs.share.open()},promisify:function(t){return function(a){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return new o.default(function(e,o){var r={success:e,fail:o};t.apply(void 0,[(0,n.default)({},a,r)].concat(i))})}},poster:function(){var t=this,a=this,e=this.promisify(uni.getImageInfo);o.default.all([e({src:"https://ai-assist.oss-cn-beijing.aliyuncs.com/poster/haibao%402x.jpg"}),e({src:a.QRurl})]).then(function(e){console.log("res",e),t.ctx||(t.ctx=uni.createCanvasContext("shareCanvas")),console.log("8888",t.ctx);e[0].height,e[0].width;var i=uni.getSystemInfoSync(),n=i.windowWidth,o=i.windowHeight;console.log("win_w = "+n+"win_h = "+o);var r=837/470,s=140/750*n,c=n-2*s,l=c*r;t.ctx.fillRect(0,0,c,l),console.log("card_h=>",l,"----card_w=>",c),console.log(451/1334*o),console.log(1057/1334*o),t.ctx.drawImage(e[0].path,s,451/1334*o,c,l),t.ctx.drawImage(e[1].path,.22*n,1057/1334*o,172/750*n,172/750*n),t.imageshow=!0,setTimeout(function(){t.ctx.draw(!0,function(e){console.log("success",e),a.tempFileImage(),uni.hideLoading(),t.imageshow=!0})},600)})},tempFileImage:function(){var t=this,a=uni.getSystemInfoSync();a.windowWidth,a.windowHeight;uni.canvasToTempFilePath({x:0,y:0,width:600,height:1e3,canvasId:"shareCanvas",success:function(a){console.log("绘制res",a),t.imgeUrl=a.tempFilePath,uni.hideLoading(),t.canvasHOw=!1},fail:function(){}})},share:function(){var t=this,a=this;uni.showLoading({title:"海报生成中",mask:!1});var e={};this.$request.url_request(l.QRCODE,e,"GET",function(e){0==JSON.parse(e.data).code?(t.QRurl=JSON.parse(e.data).data.poster,setTimeout(function(){a.$refs.share.close(),a.imageshow=!0,a.$forceUpdate(),uni.hideLoading()},1e3),console.log("返回的二维码",t.QRurl)):(uni.hideLoading(),uni.showToast({title:"海报生成失败，请返回重试",icon:"none",duration:1200}))},function(t){})},onCopyResult:function(t){"success"===t&&(uni.showToast({title:"复制成功",icon:"none",duration:1e3}),this.$refs.share.close())},close:function(){this.$refs.share.close(),this.imageshow=!1},balance:function(){uni.navigateTo({url:"balanceSubsidiary/balanceSubsidiary"})},tixian:function(){uni.navigateTo({url:"partnerDraw/partnerDraw"})},camiloPackage:function(){uni.navigateTo({url:"camiloPackage/camiloPackage"})},inviteNum:function(){uni.navigateTo({url:"partnerInvite/partnerInvite"})}}};a.default=d},c58a:function(t,a,e){var i=e("b041");a=t.exports=e("2350")(!1),a.push([t.i,"uni-page-body[data-v-a9ba5438]{background-color:#fff}.ddd[data-v-a9ba5438]{width:100%;height:100vh\n\t/* height: 200rpx; */\n\t/* background-color: #ffffff; */}\n\n/* 合伙人顶部 */.partnerHeader[data-v-a9ba5438]{width:%?750?%;height:%?749?%;padding:%?40?% %?30?%;color:#fff;background-size:cover;background-image:url("+i(e("417d"))+")}.titleBox[data-v-a9ba5438]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.title[data-v-a9ba5438]{font-size:%?36?%}.exitBtn[data-v-a9ba5438]{font-size:%?26?%;outline:none;width:%?160?%;height:%?63?%;color:#fff;border-radius:%?10?%;border:1px solid #fff;background-color:initial}\n\n/* 当前y余额 */.balance[data-v-a9ba5438]{margin-top:%?65?%;text-align:center}.balance>uni-text[data-v-a9ba5438]:first-of-type{font-size:%?26?%}.cash[data-v-a9ba5438]{margin-top:%?34?%}.cash>uni-text[data-v-a9ba5438]:first-of-type{font-size:%?34?%}.cash>uni-text[data-v-a9ba5438]:nth-of-type(2){font-size:%?40?%;margin-left:%?8?%}.balanceBtn[data-v-a9ba5438]{margin-top:%?47?%;font-size:%?28?%}.balanceBtn>uni-text[data-v-a9ba5438]:nth-of-type(2){margin:0 %?33?%}\n\n/* 合伙人邀请人数 */.partnerInvite[data-v-a9ba5438]{\n\t/* margin: 20rpx 0; */padding:%?20?% 0}.content[data-v-a9ba5438]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.menu[data-v-a9ba5438]{\n\t/* margin: 0 30rpx; */}.inviteNum[data-v-a9ba5438]{color:#e01212;font-size:%?30?%}.inviteUrl[data-v-a9ba5438]{max-width:%?400?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-line-clamp:1;color:#000;font-size:%?30?%}.deliver[data-v-a9ba5438]{border-top:%?1?% solid #f4f4f4;margin:%?30?% %?30?%}.invite[data-v-a9ba5438]{margin-top:%?20?%!important}.right[data-v-a9ba5438]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;text-align:right}.copy[data-v-a9ba5438]{color:#1c75ff;font-size:%?28?%}.shareBtn[data-v-a9ba5438]{background:#fff}.shareBtn>uni-button[data-v-a9ba5438]{\n\t/* width: 100%; */color:#fff;border-radius:%?100?%;font-size:%?30?%;margin:0 %?30?%;background:linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 80%,#5799ff);background:-ms-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 80%,#5799ff 100%);background:-webkit-linear-gradient(left,#1c75ff,#1c75ff 10%,#5799ff 80%,#5799ff);background:-moz-linear-gradient(left,#1c75ff 0,#1c75ff 10%,#5799ff 80%,#5799ff 100%)}.imageshadow[data-v-a9ba5438]{width:100%;background-color:rgba(0,0,0,.8);height:100vh;position:fixed;z-index:999;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.shadowItem[data-v-a9ba5438]{padding:0 %?50?%;margin-top:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.shadowItem>uni-image[data-v-a9ba5438]:first-of-type{width:%?276?%;height:%?93?%;display:block}.shadowItem>uni-image[data-v-a9ba5438]:nth-of-type(2){width:%?42?%;height:%?55?%;display:block;margin-top:%?30?%}\n\n/* 分享pop */.sharePop[data-v-a9ba5438]{background:#fff;padding:%?40?% 0;border-radius:%?30?% %?30?% %?0?% %?0?%}.popText[data-v-a9ba5438]{font-size:%?34?%;color:#333;margin:0 %?38?%;margin-top:%?40?%}.popDeliver[data-v-a9ba5438]{border-top:%?1?% solid #e9e9e9;margin-top:%?79?%}.popBtn[data-v-a9ba5438]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?40?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}uni-button[data-v-a9ba5438]:after{border:none}.popBtnLeft[data-v-a9ba5438],.popBtnRight[data-v-a9ba5438]{border-radius:%?36?%;color:#fff;text-align:center;line-height:%?72?%;margin:0 %?30?%}.popBtnLeft[data-v-a9ba5438]{color:#1c75ff;width:%?281?%;height:%?72?%;border:%?1?% solid #3296fa}.popBtnRight[data-v-a9ba5438]{width:%?281?%;height:%?72?%;background:-webkit-linear-gradient(right,#1c75ff,#5799ff);background:linear-gradient(-90deg,#1c75ff,#5799ff)}.shareImgae[data-v-a9ba5438]{position:relative}.imageView[data-v-a9ba5438]{width:%?481?%;height:%?841?%;border-radius:%?10?%;margin-top:%?38?%}.imageView>uni-image[data-v-a9ba5438]{border-radius:%?10?%;width:%?481?%;height:%?841?%}.closeIcon[data-v-a9ba5438]{width:%?50?%;height:%?50?%;margin-top:%?33?%}.closeIcon>uni-image[data-v-a9ba5438]{width:%?50?%;height:%?50?%}body.?%PAGE?%[data-v-a9ba5438]{background-color:#fff}",""])},ef71:function(t,a,e){"use strict";var i={"uni-popup":e("137e").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.infoData?e("v-uni-view",{staticClass:"partner"},[e("v-uni-view",{staticClass:"partnerHeader"},[e("v-uni-view",{staticClass:"titleBox"},[e("v-uni-view",{staticClass:"title"},[e("v-uni-text",[t._v("嗨！")]),e("v-uni-text",[t._v(t._s(t.infoData.mobile))])],1)],1),e("v-uni-view",{staticClass:"balance"},[e("v-uni-text",[t._v("当前余额")]),e("v-uni-view",{staticClass:"cash"},[e("v-uni-text",[t._v("¥")]),e("v-uni-text",[t._v(t._s(t.infoData.balance))])],1),e("v-uni-view",{staticClass:"balanceBtn"},[e("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tixian.apply(void 0,arguments)}}},[t._v("立即提现")]),e("v-uni-text",[t._v("|")]),e("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.balance.apply(void 0,arguments)}}},[t._v("余额明细")])],1)],1)],1),e("v-uni-view",{staticClass:"partnerInvite"},[e("v-uni-view",{staticClass:"cu-list menu"},[e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"0",padding:"0 30rpx"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.inviteNum.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"fontStyle30"},[t._v("累计邀请人数")]),e("v-uni-view",[e("v-uni-text",{staticClass:"inviteNum"},[t._v(t._s(t.infoData.inviteUserCount)+"人")]),e("v-uni-text",{staticClass:"cuIcon-right",staticStyle:{color:"#C2C2C2"}})],1)],1)],1),e("v-uni-view",{staticClass:"cu-item",staticStyle:{margin:"0",padding:"0 30rpx"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.camiloPackage.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"fontStyle30"},[t._v("卡密包")]),e("v-uni-view",[e("v-uni-text",{staticClass:"inviteNum"},[t._v(t._s(t.infoData.cardCount)+" 有效")]),e("v-uni-text",{staticClass:"cuIcon-right",staticStyle:{color:"#C2C2C2"}})],1)],1)],1),e("v-uni-view",{staticClass:"cu-item invite",staticStyle:{margin:"0",padding:"0 30rpx"}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"fontStyle30"},[t._v("专属邀请链接")]),e("v-uni-view",{staticClass:"right"},[e("v-uni-text",{staticClass:"inviteUrl"},[t._v(t._s(t.infoData.inviteUrl2))]),e("v-uni-text",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.infoData.inviteUrl2,expression:"infoData.inviteUrl2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(a){return t.onCopyResult("success")},expression:"(type) => onCopyResult('success')",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(a){return t.onCopyResult("error")},expression:"(type) => onCopyResult('error')",arg:"error"}],staticClass:"copy"},[t._v("点击复制")])],1)],1)],1)],1)],1),e("v-uni-view",{staticClass:"shareBtn"},[e("v-uni-button",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.popShare.apply(void 0,arguments)}}},[t._v("立即分享")])],1),e("uni-popup",{ref:"share",attrs:{type:"bottom"}},[e("v-uni-view",{staticClass:"sharePop"},[e("v-uni-view",{staticClass:"popText"},[t._v("可分享推广海报至微信朋友圈或微信好友也可复制推广链接，手动发放。")]),e("v-uni-view",{staticClass:"popDeliver"}),e("v-uni-view",{staticClass:"popBtn"},[e("v-uni-view",{staticClass:"popBtnLeft",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.share.apply(void 0,arguments)}}},[t._v("海报分享")]),e("v-uni-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.infoData.inviteUrl2,expression:"infoData.inviteUrl2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(a){return t.onCopyResult("success")},expression:"(type) => onCopyResult('success')",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(a){return t.onCopyResult("error")},expression:"(type) => onCopyResult('error')",arg:"error"}],staticClass:"popBtnRight"},[t._v("复制链接")])],1)],1)],1),t.QRurl&&t.imageshow?e("v-uni-view",{staticClass:"imageshadow",staticStyle:{"z-index":"11000"}},[e("v-uni-view",{staticClass:"shadowItem"},[e("v-uni-image",{attrs:{src:"../../static/partner/wenzi@2x.png",mode:""}}),e("v-uni-image",{attrs:{src:"../../static/partner/arrow@2x.png",mode:""}}),e("v-uni-view",{staticClass:"shareImgae"},[e("v-uni-view",{staticClass:"imageView"},[e("v-uni-image",{attrs:{src:t.QRurl,mode:""}})],1)],1),e("v-uni-view",{staticClass:"closeIcon",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.close.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:"../../static/incomeHome/guanbi@2x.png",mode:""}})],1)],1)],1):t._e()],1):t._e()},o=[];e.d(a,"b",function(){return n}),e.d(a,"c",function(){return o}),e.d(a,"a",function(){return i})},fccd:function(t,a,e){var i=e("c58a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("04bec100",i,!0,{sourceMap:!1,shadowMode:!1})},ff09:function(t,a,e){"use strict";e.r(a);var i=e("b17b"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,function(){return i[t]})}(o);a["default"]=n.a}}]);